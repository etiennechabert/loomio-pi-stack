###############################################################################
# Netdata Health Alarm Notifications
# Email alerts for RAM and CPU monitoring
###############################################################################

# Enable email notifications
SEND_EMAIL="YES"

# Email addresses to notify (comma-separated for multiple)
DEFAULT_RECIPIENT_EMAIL="${ALERT_EMAIL}"

# SMTP configuration (uses same SMTP as Loomio)
# Email sending method: use sendmail or msmtp
EMAIL_SENDER="sendmail"

# For sendmail method, configure SMTP relay
# This uses the host's mail system
SENDMAIL="/usr/sbin/sendmail"

# If you want to use a custom SMTP server directly:
# Uncomment and configure these:
# EMAIL_SENDER="custom"
# SMTP_SERVER="${SMTP_SERVER}"
# SMTP_PORT="${SMTP_PORT}"
# SMTP_USERNAME="${SMTP_USERNAME}"
# SMTP_PASSWORD="${SMTP_PASSWORD}"

# Email format
EMAIL_SUBJECT="[Loomio Alert] \${status} on \${host}: \${alarm}"
EMAIL_BODY="
Alert: \${alarm}
Host: \${host}
Status: \${status}
Severity: \${severity}

Current Value: \${value} \${units}
Warning Threshold: \${warn}
Critical Threshold: \${crit}

Description:
\${info}

Time: \${date}

View dashboard: http://\${host}:19999
"

# Send test email on startup
SEND_EMAIL_TEST="NO"

# Enable all default alarms
DEFAULT_RECIPIENT_CUSTOM="
role_recipients_email[sysadmin]=\"\${DEFAULT_RECIPIENT_EMAIL}\"
role_recipients_email[webmaster]=\"\${DEFAULT_RECIPIENT_EMAIL}\"
role_recipients_email[dba]=\"\${DEFAULT_RECIPIENT_EMAIL}\"
role_recipients_email[admin]=\"\${DEFAULT_RECIPIENT_EMAIL}\"
"
